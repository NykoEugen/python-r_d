CREATE TABLE IF NOT EXISTS users_2 (
id INTEGER PRIMARY KEY AUTOINCREMENT,
first_name TEXT,
last_name TEXT,
age INTEGER NOT NULL)


CREATE TABLE IF NOT EXISTS publishing_houses_2 (
id INTEGER PRIMARY KEY AUTOINCREMENT,
name TEXT,
rating INTEGER DEFAULT 5)


CREATE TABLE IF NOT EXISTS books_2 (
id INTEGER PRIMARY KEY AUTOINCREMENT,
title TEXT NOT NULL,
author TEXT NOT NULL,
year INTEGER NOT NULL,
price INTEGER NOT NULL,
publishing_house2_id INTEGER,
FOREIGN KEY (publishing_house2_id) REFERENCES books_2(id))


CREATE TABLE IF NOT EXISTS purchases_2 (
id INTEGER PRIMARY KEY AUTOINCREMENT,
user2_id INTEGER,
books2_id INTEGER,
data TEXT DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (user2_id) REFERENCES users_2(id),
FOREIGN KEY (books2_id) REFERENCES books_2(id))